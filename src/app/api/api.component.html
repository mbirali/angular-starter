<div class="container w-50">
    <h1 class="text-center pb-4 ">add or update a recipe </h1>
    <form  #isFormValid="ngForm" [formGroup]="commandFormGroup" class="form-group">

          <div class="mb-3">
            <!-- name -->
            <label for="name" class="form-label">name</label>
            <input type="text" class="form-control" name="name" formControlName="name" id="name" placeholder="name">

            <!-- name errors -->
            <div *ngIf="name?.touched && name?.invalid">
              <small class="text-danger" *ngIf="name?.errors?.['required']">name is required</small>
              <small class="text-danger" *ngIf="name?.errors?.['minlength']">name is too short</small>
            </div>
          </div>

          <!-- price -->
          <div class="mb-3">
            <label for="price" class="form-label">price</label>
            <input type="price" class="form-control" name="price" formControlName="price" id="price" placeholder="price">

            <!-- price errors -->
            <div *ngIf="price?.touched && price?.invalid">
              <small class="text-danger" *ngIf="price?.errors?.['required']">price is required</small>
              <small class="text-danger" *ngIf="price?.errors?.['pattern']">price is invalid</small>
            </div>
          </div>

          <!-- create(add) or update(put) -->
          <div class="mb-3">
            <!-- create -->
            <button *ngIf="!addOrPut" (click)="postCommand()" class="form-control btn btn-dark hvr" [disabled]="!isFormValid.valid">add</button>
            <!-- update -->
            <button *ngIf="addOrPut" (click)="putCommand()" class="form-control btn btn-warning hvr" [disabled]="!isFormValid.valid">update</button>
          </div>
    </form>

<div *ngIf="array.length == 0" class="alert alert-warning text-center">Empty array</div>
</div>

<div *ngIf="array.length != 0" class="container w-50">
  <table class="table table-striped table-bordered">
      <thead>
          <tr>
              <th>id</th>
              <th>name</th>
              <th>price (MAD)</th>
              <th>Edit</th>
              <th>Delete</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let toutCommand of array">
              <td scope="row">{{toutCommand.id}}</td>
              <td>{{toutCommand.name}}</td>
              <td>{{toutCommand.price}}</td>
              <td><button (click)="editCommand(toutCommand)" class="btn btn-warning">update</button></td>
              <td><button (click)="deleteCommand(toutCommand.id)" class="btn btn-danger">delete</button></td>
          </tr>

      </tbody>
  </table>
</div>



